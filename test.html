<!DOCTYPE html>
<html lang="en">
<body>
    <input type="file" id="videoInput" accept="video/*">
    <canvas id="thumbnailCanvas" style="display:none;"></canvas>
	<br>
    <img id="thumbnail" style="width: 100vw;">
    <script>
        document.getElementById('videoInput').addEventListener('change', function(event) {
            const file = event.target.files[0];
            if (file) {
                const video = document.createElement('video');
                const canvas = document.getElementById('thumbnailCanvas');
                const context = canvas.getContext('2d');
                const thumbnailImage = document.getElementById('thumbnail');

                video.preload = 'metadata';
                video.src = URL.createObjectURL(file);
                video.onloadedmetadata = function() {
                    // Set the canvas dimensions to match the video
                    canvas.width = video.videoWidth;
                    canvas.height = video.videoHeight;
					video.currentTime = Math.min(video.duration, 5);

                    video.onseeked = function() {
                        // Draw the video frame to the canvas
                        context.drawImage(video, 0, 0, canvas.width, canvas.height);

                        // Convert the canvas to an image
                        thumbnailImage.src = canvas.toDataURL('image/png');

                        // Revoke the object URL
                        URL.revokeObjectURL(video.src);
                    };
                };
            }
        });
    </script>
</body>
</html>
 